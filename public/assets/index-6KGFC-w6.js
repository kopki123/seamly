import{f as l,j as f,m as d,e as x,r as y,d as k,a as C,g as m,i as b,L as _,W as B,V as M,u as g,s as D,t as N,P as S,X as V,T as j,l as L,Y as h}from"./index-BaY4tWnM.js";function H(t,o){return l(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function T(t,o){return l(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function Z(t,o){return l(),f("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[d("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const $=x({__name:"Message",props:{message:{},type:{default:"info"},duration:{default:3e3},offset:{default:20},onDestroy:{},onClose:{}},setup(t){const o={info:{icon:T,class:"bg-gray-100 border border-gray-400 text-gray-700"},success:{icon:H,class:"bg-green-100 border border-green-400 text-green-700"},error:{icon:Z,class:"bg-red-100 border border-red-400 text-red-700"}},a=t,r=y(!1),n=k(()=>`${a.offset}px`),{icon:e,class:i}=o[a.type];return C(()=>{r.value=!0,setTimeout(()=>{r.value=!1},a.duration)}),(c,w)=>(l(),m(j,{name:"fade",onBeforeLeave:c.onClose,onAfterLeave:c.onDestroy},{default:b(()=>[_(d("div",{class:S(["z-50 fixed left-1/2 px-3 py-2 flex justify-center items-center gap-2 rounded-lg -translate-x-1/2",[g(i)]]),style:V({top:n.value})},[(l(),m(M(g(e)),{class:"w-4 h-4"})),D(" "+N(c.message),1)],6),[[B,r.value]])]),_:1},8,["onBeforeLeave","onAfterLeave"]))}}),s=[];let u=0;function v(t){const o=s.findIndex(e=>e.props.id===t);if(o===-1)return;const r=s[o].el.offsetHeight;s.splice(o,1);const{length:n}=s;if(n!==0)for(let e=0;e<n;e+=1){const i=parseInt(s[e].el.style.top,10)-r-16;s[e].component.props.offset=i}}function A(t){u+=1;const o=u,a=(t.offset||20)+s.reduce((i,c)=>{var p;return i+(((p=c.el)==null?void 0:p.offsetHeight)||0)+16},0),r={...t,id:o,offset:a,onClose:()=>v(u-1)},n=L($,r),e=document.createElement("div");return document.body.appendChild(e),n.props.onDestroy=()=>{h(null,e),document.body.removeChild(e)},s.push(n),h(n,e),{close:()=>v(n.props.id)}}export{H as r,A as u};
