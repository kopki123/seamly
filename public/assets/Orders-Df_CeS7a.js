import{u as h}from"./orders-CVPzGqza.js";import{u as f}from"./index-GdYk5yA4.js";import{o,c as r,a as e,i as p,A as x,g as v,x as l,u as d,F as m,l as _,m as g,B as w,d as k,j as y}from"./index-COMXhcBS.js";import{c as C}from"./convertDateToDateString-BiNXQi8d.js";function $(c,s){return o(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}const B={class:"px-3 text-sm"},S=["textContent"],b=["textContent"],j={class:"p-3 flex justify-between items-center border-y"},A={class:"flex items-center gap-2 overflow-hidden"},D=["src"],O={class:"shrink-0 flex justify-end items-center text-sm"},I=["textContent"],N={class:"px-3 self-end"},V={class:"text-primary-dark"},q=p({__name:"OrderItem",props:{order:{}},setup(c){const s=c,a=x(),u=v(()=>s.order.orderItems.reduce((t,n)=>t+n.quantity,0));return(t,n)=>(o(),r("div",{class:"mb-4 py-3 flex flex-col gap-3 rounded-lg shadow-lg hover:cursor-pointer",onClick:n[0]||(n[0]=i=>d(a).push(`/order/${t.order.id}`))},[e("div",B,[e("p",{textContent:l(`建立時間： ${d(C)(new Date(t.order.createdAt))}`)},null,8,S),e("p",{textContent:l(`訂單編號： ${t.order.id}`)},null,8,b)]),e("div",j,[e("div",A,[(o(!0),r(m,null,_(t.order.orderItems.slice(0,3),i=>(o(),r("img",{key:i.id,src:i.product.image,alt:"",class:"w-16 h-16 object-cover aspect-square rounded overflow-hidden"},null,8,D))),128))]),e("div",O,[e("p",{textContent:l(`共${u.value}件商品`)},null,8,I),g(d($),{class:"w-4 h-4"})])]),e("div",N,[e("div",null,[n[1]||(n[1]=w(" 總金額： ")),e("span",V,"$ "+l(t.order.totalAmount),1)])])]))}}),F={key:0},L={key:1,textContent:"尚未有任何訂單"},Q=p({__name:"Orders",setup(c){const s=h();return k(async()=>{const{destroy:a}=f();await s.getAllOrders(),a()}),(a,u)=>d(s).orders.length?(o(),r("div",F,[(o(!0),r(m,null,_(d(s).orders,t=>(o(),y(q,{key:t.id,order:t},null,8,["order"]))),128))])):(o(),r("div",L))}});export{Q as default};
