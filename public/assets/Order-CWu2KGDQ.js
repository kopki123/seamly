import{i as b,r as p,g as $,d as N,o as n,c as a,a as e,F as x,l as m,H as S,E as B,A as D,x as o,u as L,B as v}from"./index-DiQle6U0.js";import{u as M}from"./orders-BzSp1rZ7.js";import{u as O}from"./index-CmhKHpco.js";import{c as T}from"./convertDateToDateString-BiNXQi8d.js";import{a as j}from"./checkoutConfig-DcQSMzml.js";function q(u){return u.replace(/(\d{2})\d{4}(\d{4})/,"$1****$2")}const A={key:0,class:"max-w-[1280px] mt-10 mx-auto px-4 sm:py-5 sm:px-20"},F={class:"shrink-0"},V=["onClick"],E=["src"],I={class:"flex flex-col gap-2"},R=["textContent"],G=["textContent"],H={class:"w-2/3 flex justify-between items-baseline"},P={class:"text-xs sm:text-md text-primary-dark"},z=["textContent"],J=["textContent"],K={class:"text-xs sm:text-md text-primary-dark"},Q=["textContent"],tt=b({__name:"Order",setup(u){const f=B(),c=D(),_=M(),i=p(!0),r=p(),h=$(()=>{if(!r.value)return[];const{id:l,name:s,phone:t,totalAmount:d,pickMethod:g,deliveryFee:y,createdAt:k}=r.value,{label:C}=j.find(({value:w})=>w===g);return[{name:"配送方式",value:C},{name:"訂單編號",value:l},{name:"訂單確認日期",value:T(new Date(k))},{name:"取貨人",value:s},{name:"聯繫方式",value:q(t)},{name:"運費",value:`$${y}`},{name:"總金額",value:`$${d}`}]});return N(async()=>{var t;const{destroy:l}=O(),s=await _.getSingleOrder({id:f.params.id});i.value=!1,l(),s.status==="error"&&c.push({name:"home"}),r.value=(t=s.data)==null?void 0:t.order}),(l,s)=>i.value?S("",!0):(n(),a("div",A,[s[2]||(s[2]=e("h1",{class:"text-2xl mb-5"},"訂單資訊",-1)),(n(!0),a(x,null,m(h.value,(t,d)=>(n(),a("div",{key:d,class:"my-3 flex gap-2 md:text-lg"},[e("div",F,o(t.name)+"：",1),e("div",null,o(t.value),1)]))),128)),s[3]||(s[3]=e("div",{class:"text-2xl mt-10"},"商品詳情",-1)),(n(!0),a(x,null,m(r.value.orderItems,t=>(n(),a("div",{key:t.id,class:"w-full my-3 px-4 py-2 rounded-xl shadow-md flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-end"},[e("div",{class:"flex gap-3 hover:cursor-pointer",onClick:d=>L(c).push(`/product/${t.product.id}`)},[e("img",{src:t.product.image,alt:"",class:"w-16 h-16 object-cover aspect-square rounded overflow-hidden"},null,8,E),e("div",I,[e("p",{textContent:o(t.product.title),class:"text-lg"},null,8,R),e("p",{textContent:o(t.product.description),class:"text-xs"},null,8,G)])],8,V),e("div",H,[e("p",P,[s[0]||(s[0]=v(" NT. ")),e("span",{textContent:o(t.product.price),class:"text-lg sm:text-2xl"},null,8,z)]),e("p",{textContent:o(`數量 : ${t.quantity}`),class:"text-sm sm:text-xl"},null,8,J),e("p",K,[s[1]||(s[1]=v(" NT. ")),e("span",{textContent:o(t.product.price*t.quantity),class:"text-lg sm:text-2xl"},null,8,Q)])])]))),128))]))}});export{tt as default};
