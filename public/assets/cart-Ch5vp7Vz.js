import{B as e,C as o}from"./index-BaY4tWnM.js";async function c(){return await e.get("/cart")}async function i(t){return await e.post("/cart",t)}async function u(t){const{id:r}=t;return await e.delete(`/cart/${r}`)}async function p(t){const{id:r,...a}=t;return await e.patch(`/cart/${r}`,a)}const m=o({id:"cart",state:()=>({cartId:"",numItemsInCart:0,cartTotal:0,cartItems:[]}),actions:{addCartItem:i,async getCart(){const t=await c();if(t.status==="error")return t;const{id:r,numItemsInCart:a,cartTotal:s,cartItems:n}=t.data.cart;return this.$patch({cartId:r,numItemsInCart:a,cartTotal:s,cartItems:n}),t},async removeCartItem(t){const r=await u(t);return r.status==="error"||await this.getCart(),r},async updateCartItem(t){const r=await p(t);return r.status==="error"||await this.getCart(),r}}});export{m as u};
