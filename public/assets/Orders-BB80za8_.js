import{u as h}from"./orders-CebBmeo1.js";import{u as f}from"./index-x7-wbyOs.js";import{f as r,j as o,m as e,e as p,q as x,d as v,t as l,u as d,F as m,k as _,l as g,s as k,a as w,g as y}from"./index-FraBQ2Kp.js";import{c as C}from"./convertDateToDateString-BiNXQi8d.js";function $(c,s){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}const S={class:"px-3 text-sm"},B=["textContent"],b=["textContent"],j={class:"p-3 flex justify-between items-center border-y"},D={class:"flex items-center gap-2 overflow-hidden"},O=["src"],A={class:"shrink-0 flex justify-end items-center text-sm"},I=["textContent"],N={class:"px-3 self-end"},V={class:"text-primary-dark"},q=p({__name:"OrderItem",props:{order:{}},setup(c){const s=c,a=x(),u=v(()=>s.order.orderItems.reduce((t,n)=>t+n.quantity,0));return(t,n)=>(r(),o("div",{class:"mb-4 py-3 flex flex-col gap-3 rounded-lg shadow-lg hover:cursor-pointer",onClick:n[0]||(n[0]=i=>d(a).push(`/order/${t.order.id}`))},[e("div",S,[e("p",{textContent:l(`建立時間： ${d(C)(new Date(t.order.createdAt))}`)},null,8,B),e("p",{textContent:l(`訂單編號： ${t.order.id}`)},null,8,b)]),e("div",j,[e("div",D,[(r(!0),o(m,null,_(t.order.orderItems.slice(0,3),i=>(r(),o("img",{key:i.id,src:i.product.image,alt:"",class:"w-16 h-16 rounded"},null,8,O))),128))]),e("div",A,[e("p",{textContent:l(`共${u.value}件商品`)},null,8,I),g(d($),{class:"w-4 h-4"})])]),e("div",N,[e("div",null,[n[1]||(n[1]=k(" 總金額： ")),e("span",V,"$ "+l(t.order.totalAmount),1)])])]))}}),F={key:0},L={key:1,textContent:"尚未有任何訂單"},Q=p({__name:"Orders",setup(c){const s=h();return w(async()=>{const{destroy:a}=f();await s.getAllOrders(),a()}),(a,u)=>d(s).orders.length?(r(),o("div",F,[(r(!0),o(m,null,_(d(s).orders,t=>(r(),y(q,{key:t.id,order:t},null,8,["order"]))),128))])):(r(),o("div",L))}});export{Q as default};
